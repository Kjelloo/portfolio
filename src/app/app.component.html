<!-- app.component.html -->
<div class="win98-desktop">
  <!-- Desktop Background -->
  <div class="desktop-background">
    <!-- Desktop Icons -->
    <div class="desktop-icons">
      <div class="desktop-icon" (click)="openApp('about')">
        <img src="assets/icons/about.png" alt="About Me">
        <span class="not-selectable">About Me</span>
      </div>
      <div class="desktop-icon" (click)="openApp('resume')">
        <img src="assets/icons/resume.png" alt="Resume">
        <span class="not-selectable">Resume</span>
      </div>
      <div class="desktop-icon" (click)="openMailClient()">
        <img src="assets/icons/mail.png" alt="Mail">
        <span class="not-selectable">Mail</span>
      </div>
      <div class="desktop-icon" (click)="goToLink('https://github.com/kjelloo')">
        <img src="assets/icons/github.png" alt="GitHub">
        <span class="not-selectable">GitHub</span>
      </div>
    </div>

    <!-- Windows -->
    <div class="window-container">
      <!-- About Me Window -->
      <div *ngIf="openWindows['about']"
           cdkDrag
           (cdkDragStarted)="onDragStarted($event, 'about')"
           (cdkDragEnded)="onDragEnded($event, 'about')"
           class="win98-window about-window"
           [class.maximized]="isMaximized['about']"
           [ngStyle]="{'z-index': activeWindow === 'about' ? 10 : 5,
                   'width': windowSizes['about'].width,
                   'height': windowSizes['about'].height,
                   'left': windowPositions['about'].x + 'px',
                   'top': windowPositions['about'].y + 'px'}"
           (mousedown)="setActiveWindow('about')">
        <div class="win98-title-bar" cdkDragHandle>
          <div class="title-bar-text">Welcome</div>
          <div class="title-bar-controls">
            <button aria-label="Minimize" (click)="minimizeApp('about')">&#x2212;</button>
            <button aria-label="Close" (click)="closeApp('about')">&#x2715;</button>
          </div>
        </div>
        <div class="win98-window-content">
          <div class="profile-content">
            <img src="assets/profile-photo.jpg" alt="Profile Photo" class="profile-photo">
            <div class="profile-info">
              <h2>Your Name</h2>
              <p>Web Developer | iOS Developer | UX/UI Designer</p>
              <p>Location üìç</p>
              <div class="social-links">
                <!-- Social links buttons -->
                <button class="win98-button">Portfolio</button>
                <button class="win98-button">LinkedIn</button>
                <button class="win98-button" (click)="open('https://github.com/kjelloo')">GitHub</button>
                <button class="win98-button">Email</button>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Resume Window -->
      <div *ngIf="openWindows['resume']"
           cdkDrag
           (cdkDragStarted)="onDragStarted($event, 'resume')"
           (cdkDragEnded)="onDragEnded($event, 'resume')"
           class="win98-window resume-window"
           [class.maximized]="isMaximized['resume']"
           [ngStyle]="{'z-index': activeWindow === 'resume' ? 10 : 5,
                   'width': windowSizes['resume'].width,
                   'height': windowSizes['resume'].height,
                   'left': windowPositions['resume'].x + 'px',
                   'top': windowPositions['resume'].y + 'px'}"
           (mousedown)="setActiveWindow('resume')">
        <div class="win98-title-bar" cdkDragHandle>
          <div class="title-bar-text">Welcome</div>
          <div class="title-bar-controls">
            <button aria-label="Minimize" (click)="minimizeApp('resume')">&#x2212;</button>
            <button aria-label="Close" (click)="closeApp('resume')">&#x2715;</button>
          </div>
        </div>
        <div class="win98-window-content">
          <div class="toolbar">
            <button class="win98-button">Download</button>
            <button class="win98-button">Open in New Tab</button>
          </div>
          <div class="resume-view">
            <div class="resume-header">
              <h1>Your Name</h1>
              <p>iOS and Web Developer</p>

              <div class="contact-info">
                <div class="contact-column">
                  <h4>Phone</h4>
                  <a href="tel:+1234567890">123-456-7890</a>
                </div>
                <div class="contact-column">
                  <h4>Email</h4>
                  <a href="mailto:kjell.schoke@outlook.com">kjell.schoke@outlook.com</a>
                </div>
                <div class="contact-column">
                  <h4>Links</h4>
                  <a href="https://github.com/kjelloo">GitHub Profile</a>
                </div>
              </div>
            </div>

            <div class="resume-section">
              <h2>01. PROFILE</h2>
              <p>Versatile and passionate programmer who has had experience with modern development tools such as Swift, Python, HTML/CSS/JS and SQL. Experienced in front-end development for web apps and iOS apps using Vue.js and Swift respectively. Has also worked with back-end frameworks such as Flask for Python, SQL and NoSQL databases such as MongoDB and Firebase.</p>
            </div>

            <div class="resume-section">
              <h2>02. EMPLOYMENT HISTORY</h2>
              <!-- Employment history content -->
            </div>

            <div class="resume-pagination">
              <div class="page-controls">
                <span class="page-number">Page</span>
                <button class="page-button active">1</button>
                <button class="page-button">2</button>
                <button class="win98-button search-btn">üîç</button>
                <button class="win98-button zoom-btn">+</button>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Taskbar -->
  <div class="win98-taskbar">
    <div class="start-button" (click)="toggleStartMenu()">
      <img src="assets/icons/start.png" alt="Start">
      <span class="not-selectable">Start</span>
    </div>

    <!-- Start Menu (hidden by default) -->
    <div class="start-menu" *ngIf="startMenuOpen">
      <!-- Start menu items -->
    </div>

    <!-- Open applications in taskbar -->
    <div class="taskbar-items">
      <div *ngIf="openWindows['about']"
           class="taskbar-item"
           [class.active]="activeWindow === 'about'"
           (click)="focusApp('about')">
        <img src="assets/icons/about.png" alt="About">
        <span class="not-selectable">About Me</span>
      </div>
      <div *ngIf="openWindows['resume']"
           class="taskbar-item"
           [class.active]="activeWindow === 'resume'"
           (click)="focusApp('resume')">
        <img src="assets/icons/resume.png" alt="Resume">
        <span class="not-selectable">Resume</span>
      </div>
    </div>

    <!-- Clock -->
    <div class="taskbar-clock not-selectable">
      {{ currentTime | date:'hh:mm a' }}
    </div>
  </div>
</div>
